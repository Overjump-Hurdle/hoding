# Redis

## 레디스란?
- Remote Dictionary server
- 분산서버가 공통으로 사용할 수 있는 원격의 해쉬테이블
- 상수의 시간으로 사용가능
- C로 작성된 인메모리 저자송
- 램을 사용해서 빠르다.
- 키-벨류 스토어

## 레디스 특징
- 인메모리 저장(백업/스냅샷 제외)
- 단일 스레드로 테스크 처리
- 사이드 이펙트가 없는 안정적임
- 다중노드에 분산저장하여 고가용성 제공
- RDB + AOF 영속성 옵션제공
- PUB/SUB 구조


## 레디스 장점
- 높은 성능 : 모든 데이터메미로이제 저장
- 레디스에서 지원하는 데이터타입이 다양함
- 다양한 언어로 작성된 클라이언트 라이브러리 지원
- 강한 커뮤니티로 도움받기 쉬움

## 레디스 활용사례
- 임시 비밀번호 로그인세션 캐싱
- api 요청 횟수 제한
- 메시지 브로커
- 실시간 분석/계산 가능 (순위표. 반경탐색. 방문자 수 계산)
- PUB/SUB 구조를 활용한 실시간 채팅

## 레디스 영속성
- 캐시로 사용되기때문에 손실되도 무방한 데이터 사용
- 안정적인 운영을 위한 손실방지를 위한 영속성 옵션제공
- RDB -> 스냅샷, 재난복구 복제에 주로 사용, 스냅샹 생성시 데이터 유실위험이있으며 생성중에 서버성능저하가 발생
- AOF -> 쓰기작업을 로그로 저장, 데이터유실이 없으나 복구가 스냅샷 보다 느림

## 캐시란
- 캐싱 : 데이터를 빠르게 읽고 처리하기 위해 임시로 저장하는 기술
- 캐시 : 이때 사용되는 임시 저장소

## 캐시 예
- 시피유 L1,L2,L3캐시
- 웹브라우저 캐싱 : 이미지 등 사용자 로컬저장소에 캐싱하여 재사용
- DNS 캐싱 도메인과 ip연결 역시 자주 바뀌지 않기때문에
- 데이터베이스 캐싱 : mysql경우 버퍼풀 캐싱
- CDN : 컨텐츠를 pop서버에 저장하여 사용자와 가까운 서버에서 요청 처리
- 어플리케이션 캐싱 : 캐시를 활용하여 계산결과를 캐싱하여 반복적인 작업 최적화

## cash-hit & cache-miss
- cash-hit : 캐시서버에 케시데이터에 존재하는 경우
- cache-miss : 존재하지 않을경우

## 캐시전략
`Cache-aside pattern`
- 캐시히트면 캐시를 사용하여 처리하고 캐시미스인 경우 원본스토리지에서 조회하는 패턴
- 가장 흔한 패턴
- write-throw, write-behind 패턴도 존재
